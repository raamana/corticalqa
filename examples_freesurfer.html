<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Example usage - Freesurfer &mdash; visualqc 0.6.3 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example usage - Segmentation" href="examples_freesurfer_generic.html" />
    <link rel="prev" title="Generating Screenshots" href="cli_screenshots.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> visualqc
          </a>
              <div class="version">
                0.6.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">VisualQC</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases.html">Use-cases supported</a></li>
<li class="toctree-l1"><a class="reference internal" href="recommended_usage.html">Recommended Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_all.html">Command line usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_formats.html">Data formats and requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">Review interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery_freesurfer.html">Gallery - Freesurfer Parcellation</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery_freesurfer_filled.html">Gallery - Freesurfer (labels filled)</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery_functional_mri.html">Gallery - Functional MRI scan - artefact detection and rating</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery_diffusion_mri.html">Gallery - Diffusion MRI artefact detection and rating</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery_registration_unimodal.html">Gallery - Registration : comparison of spatial alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery_defacing.html">Gallery - Defacing algorithm accuracy</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery_segmentation_volumetric.html">Gallery - Segmentation/ROI - anatomical accuracy evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="gallery_t1_mri.html">Gallery - Structural T1w MRI - artefact detection and rating</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_freesurfer.html">Command line usage - Freesurfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_defacing.html">Command line usage - Defacing</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_func_mri.html">Command line usage - Functional MRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_diff_mri.html">Command line usage - Diffusion MRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_alignment.html">Command line usage - Alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_t1_mri.html">Command line usage - T1w MRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_screenshots.html">Generating Screenshots</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Example usage - Freesurfer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#generating-and-downloading-required-files-from-a-remote-ssh-server">Generating and Downloading Required Files from a remote SSH server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples_freesurfer_generic.html">Example usage - Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples_defacing.html">Example usage - Defacing</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples_func_mri.html">Example usage - Functional MRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples_diff_mri.html">Example usage - Diffusion MRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples_alignment.html">Example usage - Alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples_t1_mri.html">Example usage - T1w MRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">visualqc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Example usage - Freesurfer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/examples_freesurfer.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="example-usage-freesurfer">
<h1>Example usage - Freesurfer<a class="headerlink" href="#example-usage-freesurfer" title="Permalink to this headline">¶</a></h1>
<p>A rough example of usage can be:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>visualqc_freesurfer --fs_dir /project/freesurfer
</pre></div>
</div>
<p>which searches the specified directory for all subjects with successfully completed runs of Freesurfer and presents with cortical parcellation in all the three views, along with surface rendering (annotated with cortical ROIs). You can then review these visualizations for one subject at a time, rate their accuracy and move on to the next subject.</p>
<dl class="docutils">
<dt>Note:</dt>
<dd><ul class="first last simple">
<li>right click toggles the overlay as well as pressing key <cite>t</cite></li>
<li>slider changes the opacity of the contour overlay in all slices</li>
<li>double click in a given slice zooms it full-window</li>
</ul>
</dd>
</dl>
<p>You can choose to work on pre-selected list of subjects, as you choose:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>visualqc_freesurfer --fs_dir /project/freesurfer --id_list list_complete.txt
</pre></div>
</div>
<p>Note the default visualization type is <code class="docutils literal notranslate"><span class="pre">cortical_contour</span></code> and you can change it to QC a particular ROI e.g. left hippocampus (label 17 in <a class="reference external" href="https://surfer.nmr.mgh.harvard.edu/fswiki/FsTutorial/AnatomicalROI/FreeSurferColorLUT">Freesurfer color lookup table</a> (We can also use the shortcut <code class="docutils literal notranslate"><span class="pre">vqcfs</span></code> to invoke the same program. ):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vqcfs -f /project/freesurfer -i list_hippo.txt --vis_type labels_contour --labels <span class="m">17</span>
</pre></div>
</div>
<p>You can add as many ROIs as you wish</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vqcfs -f /project/freesurfer -i list_hippo.txt --vis_type labels_contour --labels <span class="m">10</span> <span class="m">11</span> <span class="m">12</span> <span class="m">13</span>
</pre></div>
</div>
<p>However, be sure your layout is providing you with enough detail and convenience to get a quick glance of whole structure(s). If you don’t need all the 3 views, or you’d like to focus on one particular view that is ideal for a given ROI, you can specify that with –views. It accepts a list of dimensions (max 3), from 0 to 2, inclusive.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vqcfs -f /project/freesurfer -i list_hippo.txt --vis_type labels_contour -l <span class="m">10</span> <span class="m">11</span> <span class="m">12</span> <span class="m">13</span> --views <span class="m">0</span>
</pre></div>
</div>
<p>If you would like many more slices or rows (or fewer), you can control that with –num_rows and –num_slices. These parameters are applied separately for each view (not the entire layout). So if you choose -r 3 and -s 10 for -w 0 2, then <cite>visualqc</cite> displays 10 slices in 3 rows for each of dimensions 0 and 2 (20 panels in total).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vqcfs -f /project/freesurfer -i list_hippo.txt --vis_type labels_contour -l <span class="m">10</span> <span class="m">11</span> <span class="m">12</span> <span class="m">13</span> --views <span class="m">0</span> -w <span class="m">0</span> <span class="m">2</span> -r <span class="m">3</span> -s <span class="m">10</span>
</pre></div>
</div>
<div class="section" id="generating-and-downloading-required-files-from-a-remote-ssh-server">
<h2>Generating and Downloading Required Files from a remote SSH server<a class="headerlink" href="#generating-and-downloading-required-files-from-a-remote-ssh-server" title="Permalink to this headline">¶</a></h2>
<p>This process consists of few steps:</p>
<blockquote>
<div><ul class="simple">
<li>ssh to the remote server, and cd into the Freesurfer subjects directory</li>
<li>tar the required files (see below), to retain the folder structure</li>
<li>download it to your local computer,</li>
<li>untar it while retain the nested folder structure</li>
</ul>
</div></blockquote>
<p>Sample commands to achieve the above are shown below - please use the appropriate values for the various capitalized/highlighted variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$FS_SUBJECTS_DIR</span>
tar -cjvf tar_visualqc_files.tar */mri/<span class="o">{</span>orig,aparc+aseg<span class="o">}</span>.mgz
<span class="s">&lt;&lt;logout of ssh&gt;&gt;</span>
<span class="s">scp USERNAME@REMOTE.SERVER:$FS_SUBJECTS_DIR/tar_visual</span>qc_files.tar <span class="s">&lt;&lt;LOCAL_FS_DIR&gt;&gt;</span>
<span class="s">cd &lt;&lt;LOCAL_FS_DIR</span>&gt;&gt;
tar -xjvf tar_visualqc_files.tar
</pre></div>
</div>
<p>As with other modules of <code class="docutils literal notranslate"><span class="pre">VisualQC</span></code>, you can choose which views, how many slices and rows to display using the Layout command line arguments i.e. <code class="docutils literal notranslate"><span class="pre">--views</span></code>, <code class="docutils literal notranslate"><span class="pre">--num_slices</span></code> and <code class="docutils literal notranslate"><span class="pre">--num_rows</span></code>.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cli_screenshots.html" class="btn btn-neutral float-left" title="Generating Screenshots" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="examples_freesurfer_generic.html" class="btn btn-neutral float-right" title="Example usage - Segmentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, Pradeep Reddy Raamana.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>